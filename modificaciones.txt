insert into sesion
values (seq_sesion.nextval,'admin','3244185981728979115075721453575112');

ALTER TABLE DOCUMENTO
DROP COLUMN TIPOMEDIODOCUMENTO; 

create or replace view v_catalogo as
select D.TITULODOCUMENTO, D.AUTORDOCUMENTO, D.EDICIONDOCUMENTO, D.ANIODOCUMENTO, D.TIPODOCUMENTO, D.CATEGORIADOCUMENTO,
(SELECT COUNT(*) FROM EJEMPLAR E JOIN DOCUMENTO DO ON E.DOCUMENTO_IDDOCUMENTO = DO.IDDOCUMENTO WHERE E.DOCUMENTO_IDDOCUMENTO = D.IDDOCUMENTO) AS CANTIDAD
from DOCUMENTO D;

CREATE OR REPLACE PROCEDURE  PRO_ADD_EJEMPLAR (
 id_documento      EJEMPLAR.DOCUMENTO_IDDOCUMENTO%TYPE,
 estado_ejemplar   EJEMPLAR.ESTADOEJEMPLAR%TYPE,
 ubicacion_ejemplar EJEMPLAR.UBICACIONEJEMPLAR%TYPE) IS
BEGIN
   INSERT INTO EJEMPLAR(IDEJEMPLAR,DOCUMENTO_IDDOCUMENTO,ESTADOEJEMPLAR, UBICACIONEJEMPLAR) 	VALUES(SEQ_EJEMPLAR.NEXTVAL, id_documento, estado_ejemplar, ubicacion_ejemplar);
 DBMS_OUTPUT.PUT_LINE(' Filas insertadas: '||SQL%ROWCOUNT);
END;

commit;

--ALTER TABLE SESION
--ADD ACTIVA CHAR;