create or replace view v_catalogo as
select D.IDDOCUMENTO, D.TITULODOCUMENTO, D.AUTORDOCUMENTO, D.EDICIONDOCUMENTO, D.EDITORIALDOCUMENTO, D.ANIODOCUMENTO, D.TIPODOCUMENTO, D.CATEGORIADOCUMENTO,
(SELECT COUNT(*) FROM EJEMPLAR E JOIN DOCUMENTO DO ON E.DOCUMENTO_IDDOCUMENTO = DO.IDDOCUMENTO WHERE E.DOCUMENTO_IDDOCUMENTO = D.IDDOCUMENTO) AS CANTIDAD
from DOCUMENTO D;

CREATE OR REPLACE VIEW V_EJEMPLARES AS
SELECT E.IDEJEMPLAR, D.TITULODOCUMENTO, D.IDDOCUMENTO, E.ESTADOEJEMPLAR, E.UBICACIONEJEMPLAR
FROM EJEMPLAR E JOIN DOCUMENTO D
ON E.DOCUMENTO_IDDOCUMENTO = D.IDDOCUMENTO;

commit;